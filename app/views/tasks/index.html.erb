<h1>Task Manager</h1>


<div class="button-add-people">
  <%= button_to "Add people", class: "btn btn-flat" %>
</div>

<div class="button-add-people">
  <%= button_to "Add Tasks", class: "btn btn-flat" %>
</div>

<!--  -->

<div class="participants">
  <% @trip.participants.each do |participant| %>
  <ul>
    <div class="droppable-cards">
      <li>
        <p> <%= participant.user.name if !participant.user.nil?%> </p>
        <ul>
          <% @tasks.each do |task| %>
          <% if task.user_id == participant.user_id %>
          <div class="draggable-cards">
            <li>
              <h6> <%= task.name %> </h6>
              <p> <%= task.description %> </p>

              <% if task.attachments.present? %>
              <% task.attachments.each do |attach| %>
              <p>
                Attachment: <%= link_to attach.name, attach.attachment_url %>
              </p>
              <% end %>
              <% else %>
              <%= button_to "Attach file", class: "btn btn-flat" %>
              <% end %>
            </li>
          </div>
          <% end %>
          <% end %>
        </ul>
      </li>
    </div>
  </ul>
  <% end %>
</div>




<div class="completed-tasks">
  <h3>Completed Tasks</h3>
  <ul>
    <li>
      <p>Empty</p>

    </li>
  </ul>
</div>



<script>
  $( ".draggable-cards" ).draggable({
    helper: 'clone'
  });

  $( ".droppable-cards" ).droppable({
    drop: function() {
      // let ui = document.querySelector("");
      // var id = $(li.draggable).attr('id');
      // console.log(id);
      debugger;
    }
  });
</script>
